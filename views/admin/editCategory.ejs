<%- include("../layouts/admin/header.ejs") %>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
<link rel="stylesheet" href="/css/admin/editCategory.css" />

<div class="admin-dashboard">
  <div class="d-flex">
    <div class="main-content flex-grow-1">
      <div class="container-fluid py-4">
        <!-- Page Header -->
        <div class="d-flex justify-content-between align-items-center mb-4">
          <h1 class="h3 text-gray-800">Category Management</h1>
          <div class="date text-secondary">
            <i class="far fa-calendar-alt me-2"></i>
            <span id="currentDate"></span>
          </div>
        </div>

        <!-- Breadcrumb -->
        <nav aria-label="breadcrumb" class="bg-light rounded p-3 mb-4">
          <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item">
              <a href="/admin" class="text-decoration-none"><i class="fas fa-home me-1"></i>Dashboard</a>
            </li>
            <li class="breadcrumb-item">
              <a href="/admin/category" class="text-decoration-none"><i class="fas fa-list me-1"></i>Category Management</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
              <i class="fas fa-edit me-1"></i>Edit Category
            </li>
          </ol>
        </nav>

        <!-- Edit Form Card -->
        <div class="card shadow-sm">
          <div class="card-header bg-primary text-white">
            <h5 class="card-title mb-0"><i class="fas fa-edit me-2"></i>Edit Category</h5>
          </div>
          <div class="card-body p-4">
            <form class="needs-validation" onsubmit="return editCategory('<%= category._id%>')">
              <div class="mb-4">
                <label for="name" class="form-label fw-bold">
                  <i class="fas fa-tag me-2"></i>Category Name
                </label>
                <input
                  type="text"
                  class="form-control form-control-lg"
                  id="name"
                  name="categoryname"
                  value="<%= category.name%>"
                  required
                  placeholder="Enter category name"
                />
              </div>
              <div class="mb-4">
                <label for="description" class="form-label fw-bold">
                  <i class="fas fa-align-left me-2"></i>Description
                </label>
                <input
                  type="text"
                  class="form-control form-control-lg"
                  id="description"
                  name="description"
                  value="<%= category.description%>"
                  required
                  placeholder="Enter category description"
                />
                <div id="description-error" class="error-message text-danger mt-2"></div>
              </div>
              <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <a href="/admin/category" class="btn btn-light btn-lg me-2">
                  <i class="fas fa-times me-2"></i>Cancel
                </a>
                <button type="submit" class="btn btn-primary btn-lg">
                  <i class="fas fa-save me-2"></i>Update Category
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="/scripts/admin/editCategory.js"></script>

<!-- Add current date display -->
<script>
document.getElementById('currentDate').textContent = new Date().toLocaleDateString('en-US', {
  weekday: 'long',
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});
</script>

<%- include('../layouts/admin/footer.ejs') %>